# 基于Vue-cli + Vue + Vue-router + Vuex + webpack单页小应用  
[在线访问](http://www.tjbeehive.com/tiana/#/) (手机访问最佳)
#### 环境配置推荐教程 [Vue2+VueRouter2+webpack 构建项目实战](http://blog.csdn.net/ycm_920414/article/details/61913385)

在跟着上述教程走了一遍以后大致对这种开发的方式有了一定的理解，所以打算做一个自己的小应用进行一下融会贯通。但没有自己的服务器并且也不会后台，于是
在网上搜索着免费的api接口，没想到还真一搜一大把。所以暂时选了几个有意思的来做一下功能，完成的有《历史上的今天》与《笑话大全》。只要按照上述教程完成demo，并在一定程度上理解了工作流程后就可以随便写了，代码的写法因人而异，本应用代码也较简单，只需理解运行流程即可。所以大概罗列一下主要的目录结构及文件，部分参考了上述教程推荐的文件存放方式。
## 目录结构
所有代码都在src文件下  
![目录结构](https://github.com/anxiaoxin/todayHistory/blob/master/todayHistory/src/assets/%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84.jpg)
1. **assets**
 - 图片资源文件
2. **config**
 - api.js  
 由于该单页小应用没有后台，所有的数据都是通过jsonp的方式获取数据。该文件是写的读取数据的api，并注册在Vue全局下（笑话大全的Api有问题，图片地址错误）。
- route.js  
 Vue-router的路由配置
- setFontSize.js  
 为了方便的适配屏幕的大小，通过计算设置HTML的font-size，并采用rem单位。
- vuex.js  
  由于页面结构比较简单，开始是不打算加入vuex，但由于数据的获取是通过jsonp，回调函数只能注册在全局，这样组件获取数据就会比较麻烦。所以加入vuex
  为两者之间的桥梁。
3. **page**  
 - 所有的组件都在该文件夹下面，并且每一项功能的组件会在不同的文件夹下面，便于区分。
4. **style**  
 - 与组件对应的文件结构（具体上可能有些差异）。
5. **main.js**  
 - webpack打包的入口
 下载本例，配置好环境，进入目录，npm run dev即可运行。  
### 基于websocket的群聊与私聊的实现（新增模块）
前段时间想了解下websocket，往上找到一个基于socket.io与node实现的一个聊天室功能的[博客](http://www.open-open.com/lib/view/open1402479198587.html)，感觉还挺有意思，所以决定加到这个单页小应用中（学习嘛），并在其基础上实现了私聊的功能以及不进行刷新操作能够缓存群聊与私聊内容（本来想在vuex中实现，但实际编写过程中还是使用自定义的api中进行缓存比较方便）。
#### server
在src下的server文件夹下，主要是node服务器端的内容。关于环境的搭建与配置可以看我提到的那篇博客（因为我也是看着他的来的）。
#### 前端部分
关于前端部分的重要HTML与js等部分在talk文件夹下，因为是与本单页小demo的结合，所以功能实现部分拆分的比较厉害，我尽可能的加下注释。  

